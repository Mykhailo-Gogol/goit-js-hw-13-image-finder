{"version":3,"sources":["webpack:///./templates/template.hbs","webpack:///./js/references.js","webpack:///./js/fetch-images.js","webpack:///./js/notifications.js","webpack:///./js/on-load-more.js","webpack:///./js/observer.js","webpack:///./js/fetch-handler.js","webpack:///./js/on-input-search.js","webpack:///./js/on-open-modal.js","webpack:///./js/on-close-modal.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","references","form","document","querySelector","input","list","loadMoreButton","lickBack","fetchImages","searchQuery","fetch","then","res","json","hits","error","console","log","runInfoNotification","info","text","delay","page","onLoadMore","io","IntersectionObserver","arg","isIntersecting","classList","add","url","value","setTimeout","fetchHandler","y","getBoundingClientRect","window","scrollTo","top","documentElement","clientHeight","behavior","remove","threshold","cardMarkup","cardTemplate","length","insertAdjacentHTML","style","display","observe","onInputSearch","event","preventDefault","query","target","textContent","body","backgroundColor","onOpenModal","tagName","dataset","large","onCloseModal","backdrop","removeChild","debounce","require","throttle","addEventListener"],"mappings":"8EAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GAC5G,IAAIC,EAAQC,EAAiB,MAAVL,EAAiBA,EAAUD,EAAUO,aAAe,GAAKC,EAAOR,EAAUS,MAAMC,cAAeC,EAAO,WAAYC,EAAOZ,EAAUa,iBAAkBC,EAAiBd,EAAUc,gBAAkB,SAASC,EAAQC,GAClO,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,mHACHJ,SAASP,EAAmI,OAAzHA,EAASS,EAAeZ,EAAQ,kBAA8B,MAAVD,EAAiBa,EAAeb,EAAO,gBAAkBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,eAAe,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GACxU,6BACAO,SAASP,EAAqI,OAA3HA,EAASS,EAAeZ,EAAQ,mBAA+B,MAAVD,EAAiBa,EAAeb,EAAO,iBAAmBA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,gBAAgB,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASC,GAC3U,0IACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACrT,sHACAO,SAASP,EAAqH,OAA3GA,EAASS,EAAeZ,EAAQ,WAAuB,MAAVD,EAAiBa,EAAeb,EAAO,SAAWA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,QAAQ,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACrT,mHACAO,SAASP,EAA2H,OAAjHA,EAASS,EAAeZ,EAAQ,cAA0B,MAAVD,EAAiBa,EAAeb,EAAO,YAAcA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,WAAW,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GAC9T,0HACAO,SAASP,EAA6H,OAAnHA,EAASS,EAAeZ,EAAQ,eAA2B,MAAVD,EAAiBa,EAAeb,EAAO,aAAeA,IAAmBI,EAASG,KAA2BG,EAASN,EAAOe,KAAKd,EAAO,CAAC,KAAO,YAAY,KAAO,GAAG,KAAOF,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,GAAG,OAAS,IAAI,IAAM,CAAC,KAAO,GAAG,OAAS,OAASC,GACjU,sDACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASL,EAAUC,EAAOC,EAAQC,EAASC,GAC1E,IAAIiB,EAON,OAA+R,OAAtRA,GAPsBrB,EAAUc,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,KAKWd,EAAQ,QAAQkB,KAAe,MAAVnB,EAAiBA,EAAUD,EAAUO,aAAe,GAAIN,EAAO,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUsB,QAAQ,EAAGlB,EAAM,GAAG,QAAUJ,EAAUuB,KAAK,KAAOnB,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,GAAG,IAAM,CAAC,KAAO,GAAG,OAAS,OAAiBiB,EAAS,IAC/S,SAAU,K,8ECxBGG,EARI,CACjBC,KAAMC,SAASC,cAAc,gBAC7BC,MAAOF,SAASC,cAAc,iBAC9BE,KAAMH,SAASC,cAAc,eAC7BG,eAAgBJ,SAASC,cAAc,mBACvCI,SAAUL,SAASC,cAAc,e,oBCEpBK,MAPf,SAAqBC,GACnB,OAAOC,MAAMD,GACVE,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,qBAAGG,QAFJ,OAGE,SAACC,GAAD,OAAWC,QAAQC,IAAIF,O,uDCOnBG,MAPf,WACEC,eAAK,CACHC,KAAM,4BACNC,MAAO,OCHPC,G,oBAAO,GA0BIC,ICtBAC,EAFJ,IAAIC,sBDDf,SAAoBC,GAClB,GAAKA,EAAI,GAAGC,eAAZ,CAIA3B,EAAWM,eAAesB,UAAUC,IAAI,kBACxC,IAGMC,EAAM,sEAHE9B,EAAWI,MAAM2B,MAGtB,UAAwFT,GAAQ,GAA7F,qDAEZU,YAAW,WACTxB,EAAYsB,GACTnB,KAAKsB,GADR,SAEW,WACP,IACQC,EADUhC,SAASC,cAAc,YACjBgC,wBAAhBD,EACRE,OAAOC,SAAS,CACdC,IAAKpC,SAASqC,gBAAgBC,aAAeN,EAAI,IACjDO,SAAU,cAGhBzC,EAAWM,eAAesB,UAAUc,OAAO,oBAC1C,UArBD1B,QAAQC,IAAIS,KCLA,CACdiB,UAAW,KCqBEV,MAnBf,SAAsBnB,GACpB,IAAM8B,EAAaC,IAAa/B,GAK5BA,EAAKgC,OAAS,GAChB9C,EAAWK,KAAK0C,mBAAmB,YAAaH,GAChD5C,EAAWM,eAAe0C,MAAMC,QAAU,QAGtCjD,EAAWM,gBACbkB,EAAG0B,QAAQlD,EAAWM,iBAGxBY,KCCWiC,MAjBf,SAAuBC,GACrBA,EAAMC,iBACN,IAAMC,EAAQF,EAAMG,OAAOxB,MAGrBD,EAAM,sEAAsEwB,EAAtE,4DAEZtD,EAAWK,KAAKmD,YAAc,GAC9BtD,SAASuD,KAAKT,MAAMU,gBAAkB,kBAClCJ,EACF9C,EAAYsB,GAAKnB,KAAKsB,IAEtBjC,EAAWK,KAAKmD,YAAc,GAC9BxD,EAAWM,eAAe0C,MAAMC,QAAU,SCN/BU,MAXf,SAAqBP,GACnBA,EAAMC,iBAEuB,QAAzBD,EAAMG,OAAOK,SACf1D,SAASuD,KAAKV,mBACZ,YADF,qCAEuCK,EAAMG,OAAOM,QAAQC,MAF5D,4CCKWC,MATf,SAAsBX,GACpBA,EAAMC,iBAEN,IAAMW,EAAW9D,SAASC,cAAc,aACpCiD,EAAMG,SAAWS,GACnB9D,SAASuD,KAAKQ,YAAYD,ICJxBE,EAAWC,EAAQ,QACnBC,EAAWD,EAAQ,QAOzBnE,EAAWI,MAAMiE,iBAAiB,QAASH,EAASf,EAAe,MAEnEnD,EAAWK,KAAKgE,iBAAiB,QAASV,GAE1CzD,SAASuD,KAAKY,iBAAiB,QAASN,GAExC/D,EAAWO,SAAS8D,iBAClB,QACAD,GAAS,WACPhC,OAAOC,SAAS,EAAG,KAClB,Q","file":"main.329dff7ea8f135a7c0f0.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"card\\\">\\n  <div class=\\\"photo-card\\\">\\n    <div class=\\\"image-container\\\">\\n      <img class=\\\"image\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":30},\"end\":{\"line\":5,\"column\":46}}}) : helper)))\n    + \"\\\" alt=\\\"photo\\\" data-large=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":72},\"end\":{\"line\":5,\"column\":89}}}) : helper)))\n    + \"\\\" />\\n    </div>\\n    <div class=\\\"stats\\\">\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">thumb_up</i>\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":14},\"end\":{\"line\":10,\"column\":23}}}) : helper)))\n    + \"</span>\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">visibility</i>\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":14,\"column\":14},\"end\":{\"line\":14,\"column\":23}}}) : helper)))\n    + \"</span>\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">comment</i>\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":14},\"end\":{\"line\":18,\"column\":26}}}) : helper)))\n    + \"</span>\\n      </p>\\n      <p class=\\\"stats-item\\\">\\n        <i class=\\\"material-icons\\\">cloud_download</i>\\n        <span>\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":22,\"column\":14},\"end\":{\"line\":22,\"column\":27}}}) : helper)))\n    + \"</span>\\n      </p>\\n    </div>\\n  </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":27,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const references = {\n  form: document.querySelector(\"#search-form\"),\n  input: document.querySelector(\"#search-input\"),\n  list: document.querySelector(\"#js-gallery\"),\n  loadMoreButton: document.querySelector(\"#loadMoreButton\"),\n  lickBack: document.querySelector(\".link-back\"),\n};\n\nexport default references;\n","function fetchImages(searchQuery) {\n  return fetch(searchQuery)\n    .then((res) => res.json())\n    .then(({ hits }) => hits)\n    .catch((error) => console.log(error));\n}\n\nexport default fetchImages;\n","import \"@pnotify/core/dist/PNotify.css\";\nimport \"@pnotify/core/dist/BrightTheme.css\";\nimport { info } from \"@pnotify/core\";\n\nfunction runInfoNotification() {\n  info({\n    text: \"Sorry :) No matches found\",\n    delay: 1000,\n  });\n}\n\nexport default runInfoNotification;\n","import fetchImages from \"./fetch-images\";\nimport fetchHandler from \"./fetch-handler\";\nimport references from \"./references\";\n\nlet page = 1;\nfunction onLoadMore(arg) {\n  if (!arg[0].isIntersecting) {\n    console.log(arg);\n    return;\n  }\n  references.loadMoreButton.classList.add(\"load-animation\");\n  const query = references.input.value;\n\n  const key = \"19918904-c3236105177a74f036d1e644e\";\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${(page += 1)}&per_page=6&key=${key}`;\n\n  setTimeout(() => {\n    fetchImages(url)\n      .then(fetchHandler)\n      .finally(() => {\n        const outputRef = document.querySelector(\".gallery\");\n        const { y } = outputRef.getBoundingClientRect();\n        window.scrollTo({\n          top: document.documentElement.clientHeight - y - 150,\n          behavior: \"smooth\",\n        });\n      });\n    references.loadMoreButton.classList.remove(\"load-animation\");\n  }, 1000);\n}\nexport default onLoadMore;\n","import onLoadMore from \"./on-load-more\";\n\nconst options = {\n  threshold: 0.5,\n};\n\nconst io = new IntersectionObserver(onLoadMore, options);\n\nexport default io;\n","import cardTemplate from \"../templates/template.hbs\";\nimport references from \"./references\";\nimport runInfoNotification from \"./notifications\";\nimport io from \"./observer\";\n\nfunction fetchHandler(hits) {\n  const cardMarkup = cardTemplate(hits);\n  // hits.forEach(({ tags }) => {\n  //   console.log(tags);\n  // });\n\n  if (hits.length > 0) {\n    references.list.insertAdjacentHTML(\"beforeend\", cardMarkup);\n    references.loadMoreButton.style.display = \"block\";\n\n    // Підключає Observer\n    if (references.loadMoreButton) {\n      io.observe(references.loadMoreButton);\n    }\n  } else {\n    runInfoNotification();\n  }\n}\n\nexport default fetchHandler;\n","import fetchImages from \"./fetch-images\";\nimport fetchHandler from \"./fetch-handler\";\nimport references from \"./references\";\n\nfunction onInputSearch(event) {\n  event.preventDefault();\n  const query = event.target.value;\n  const key = \"19918904-c3236105177a74f036d1e644e\";\n\n  const url = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${1}&per_page=6&key=${key}`;\n\n  references.list.textContent = \"\";\n  document.body.style.backgroundColor = \"rgb(60, 60, 60)\";\n  if (query) {\n    fetchImages(url).then(fetchHandler);\n  } else {\n    references.list.textContent = \"\";\n    references.loadMoreButton.style.display = \"none\";\n  }\n}\n\nexport default onInputSearch;\n","function onOpenModal(event) {\n  event.preventDefault();\n\n  if (event.target.tagName === \"IMG\") {\n    document.body.insertAdjacentHTML(\n      \"beforeend\",\n      `<div class=\"backdrop\"><img src = \"${event.target.dataset.large}\" alt = \"photo\" class = \"modal\"/></div>`\n    );\n  }\n}\n\nexport default onOpenModal;\n","function onCloseModal(event) {\n  event.preventDefault();\n\n  const backdrop = document.querySelector(\".backdrop\");\n  if (event.target === backdrop) {\n    document.body.removeChild(backdrop);\n  }\n}\n\nexport default onCloseModal;\n","import \"./style/style.css\";\nconst debounce = require(\"debounce\");\nconst throttle = require(\"lodash.throttle\");\n\nimport references from \"./js/references\";\nimport onInputSearch from \"./js/on-input-search\";\nimport onOpenModal from \"./js/on-open-modal\";\nimport onCloseModal from \"./js/on-close-modal\";\n\nreferences.input.addEventListener(\"input\", debounce(onInputSearch, 500));\n\nreferences.list.addEventListener(\"click\", onOpenModal);\n\ndocument.body.addEventListener(\"click\", onCloseModal);\n\nreferences.lickBack.addEventListener(\n  \"click\",\n  throttle(() => {\n    window.scrollTo(0, 0);\n  }, 1000)\n);\n"],"sourceRoot":""}